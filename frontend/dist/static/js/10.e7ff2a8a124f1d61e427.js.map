{"version":3,"sources":["webpack:///src/components/account.vue","webpack:///./src/components/account.vue?2653","webpack:///./src/components/account.vue"],"names":["components_account","_this","this","address","Object","account","_this2","data","_this3","selectortype_template_index_0_src_components_account","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","arg","_v","_s","balance","ref","attrs","placement","width","trigger","model","value","callback","$$v","visible2","expression","size","type","round","on","click","requestEth","unsetAccount","_e","visible3","span","placeholder","password","offset","icon","circle","register","visible4","setAddress","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/10.e7ff2a8a124f1d61e427.js","sourcesContent":["<template>\n  <div>\n    <div v-if=\"account\">\n      <el-button v-popover:showAccount>你的余额 {{ balance }} finny ({{ balance / 1000 }} ether)</el-button>\n      <el-popover\n        ref=\"showAccount\"\n        placement=\"right\"\n        width=\"330\"\n        v-model=\"visible2\"\n        trigger=\"click\">\n        <p><strong>{{ account }}</strong></p>\n        <p>这是你的账户地址</p>\n        <el-button size=\"small\" type=\"warning\" @click=\"requestEth\" round>给我一个以太币！</el-button>\n        <el-button size=\"small\" type=\"danger\" @click=\"unsetAccount\" round>登出账号</el-button>\n      </el-popover>\n    </div>\n    <div v-if=\"!account\">\n      <el-button v-popover:inputAddressBoard>输入账号</el-button>\n      <el-button v-popover:registerBoard>注册账号！</el-button>\n\n      <el-popover\n        ref=\"registerBoard\"\n        placement=\"right\"\n        width=\"300\"\n        v-model=\"visible3\">\n        <el-row>\n          <el-col :span=\"20\">\n            <el-input type=\"password\" v-model=\"password\" placeholder=\"输入密码来创建以太坊账号\"></el-input>\n          </el-col>\n          <el-col :span=\"3\" :offset=\"1\">\n            <el-button type=\"Blue\" icon=\"el-icon-check\" @click=\"register\" circle></el-button>\n          </el-col>\n        </el-row>\n      </el-popover>\n\n      <el-popover\n        ref=\"inputAddressBoard\"\n        placement=\"right\"\n        width=\"300\"\n        v-model=\"visible4\">\n        <el-row>\n          <el-col :span=\"20\">\n            <el-input type=\"text\" v-model=\"address\" placeholder=\"输入已存在的账号地址\"></el-input>\n          </el-col>\n          <el-col :span=\"3\" :offset=\"1\">\n            <el-button type=\"Blue\" icon=\"el-icon-check\" @click=\"setAddress\" circle></el-button>\n          </el-col>\n        </el-row>\n      </el-popover>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { setAccount, logoutAccount } from '@/js/account.js'\nimport { getBalance, registerAccount, requestTestEther } from '@/js/requests.js'\n\nexport default {\n  props: ['balance', 'account', 'nodeStatus'],\n  data () {\n    return {\n      // balance: 0,\n      // account: null,\n      visible2: false,\n      visible3: false,\n      visible4: false\n    }\n  },\n  methods: {\n    setAddress () {\n      this.account = this.address\n      setAccount(this.address)\n      getBalance(this.address).then(res => {\n        if (res.status === 200 && res.data.code === 0) {\n          this.balance = Math.round(res.data.data / 1000000000000000)\n        }\n        this.visible2 = false\n        this.visible4 = false\n      })\n    },\n    unsetAccount () {\n      this.account = null\n      logoutAccount()\n      this.visible2 = false\n      this.visible4 = false\n    },\n    register () {\n      registerAccount(this.password).then(res => {\n        if (res.status === 200 && res.data.code === 0) {\n          var data = res.data.data\n          this.account = data\n          setAccount(data)\n          this.visible3 = false\n          this.balance = 0\n        }\n      })\n    },\n    requestEth () {\n      if (this.nodeStatus === 0) {\n        requestTestEther(this.account).then(res => {\n          if (res.data.amount || res.data.code === 0) {\n            this.$message({\n              message: '请求成功！等交易写入区块才能到账。自行刷新页面:)',\n              showClose: true,\n              type: 'success',\n              duration: 30000\n            })\n          } else {\n            this.$message({\n              message: res.data.message || res.data.data,\n              showClose: true,\n              type: 'warning'\n            })\n          }\n        })\n      } else {\n        this.$message({ message: '节点暂不可用，请等待 / 点击刷新', type: 'warning' })\n      }\n    }\n  }\n  // created () {\n  //   this.account = getAccount()\n  //   if (this.account) {\n  //     getBalance(this.account).then(res => {\n  //       if (res.status === 200) {\n  //         this.balance = Math.round(res.data / 1000000000000000)\n  //       }\n  //     })\n  //   }\n  // }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/account.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.account)?_c('div',[_c('el-button',{directives:[{name:\"popover\",rawName:\"v-popover:showAccount\",arg:\"showAccount\"}]},[_vm._v(\"你的余额 \"+_vm._s(_vm.balance)+\" finny (\"+_vm._s(_vm.balance / 1000)+\" ether)\")]),_vm._v(\" \"),_c('el-popover',{ref:\"showAccount\",attrs:{\"placement\":\"right\",\"width\":\"330\",\"trigger\":\"click\"},model:{value:(_vm.visible2),callback:function ($$v) {_vm.visible2=$$v},expression:\"visible2\"}},[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.account))])]),_vm._v(\" \"),_c('p',[_vm._v(\"这是你的账户地址\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.requestEth}},[_vm._v(\"给我一个以太币！\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.unsetAccount}},[_vm._v(\"登出账号\")])],1)],1):_vm._e(),_vm._v(\" \"),(!_vm.account)?_c('div',[_c('el-button',{directives:[{name:\"popover\",rawName:\"v-popover:inputAddressBoard\",arg:\"inputAddressBoard\"}]},[_vm._v(\"输入账号\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"popover\",rawName:\"v-popover:registerBoard\",arg:\"registerBoard\"}]},[_vm._v(\"注册账号！\")]),_vm._v(\" \"),_c('el-popover',{ref:\"registerBoard\",attrs:{\"placement\":\"right\",\"width\":\"300\"},model:{value:(_vm.visible3),callback:function ($$v) {_vm.visible3=$$v},expression:\"visible3\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"输入密码来创建以太坊账号\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-button',{attrs:{\"type\":\"Blue\",\"icon\":\"el-icon-check\",\"circle\":\"\"},on:{\"click\":_vm.register}})],1)],1)],1),_vm._v(\" \"),_c('el-popover',{ref:\"inputAddressBoard\",attrs:{\"placement\":\"right\",\"width\":\"300\"},model:{value:(_vm.visible4),callback:function ($$v) {_vm.visible4=$$v},expression:\"visible4\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"输入已存在的账号地址\"},model:{value:(_vm.address),callback:function ($$v) {_vm.address=$$v},expression:\"address\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-button',{attrs:{\"type\":\"Blue\",\"icon\":\"el-icon-check\",\"circle\":\"\"},on:{\"click\":_vm.setAddress}})],1)],1)],1)],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2245b994\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/account.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./account.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./account.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2245b994\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./account.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/account.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}