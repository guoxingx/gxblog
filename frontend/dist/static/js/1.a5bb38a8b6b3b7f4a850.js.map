{"version":3,"sources":["webpack:///./src/account.js","webpack:///src/components/betonether.vue","webpack:///./src/components/betonether.vue?3199","webpack:///./src/components/betonether.vue"],"names":["name","ca","document","cookie","split","i","length","c","trim","indexOf","value","setCookie","getCookie","AccountCookieName","address","date","Date","setTime","getTime","expires","toGMTString","betonether","getBetList","next","Object","src_account","refresh","_this","this","code","_this2","betList","_this3","data","status","message","peer_count","_this4","id","refreshNodeStatus","components_betonether","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","float","attrs","xs","sm","md","lg","xl","type","nodeStatus","round","on","click","$event","_v","_s","nodeStatusString","peerCount","balance","account","_l","boe","key","_e","league","style","ended","span","src","home_image","home","visiting_image","visiting","gutter","offset","class","result","shadow","directives","rawName","arg","win_odds","draw_odds","lose_odds","ref","placement","width","model","callback","$$v","visible0","expression","placeholder","amount","password","icon","circle","bet","visible1","visible2","margin-top","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.a5bb38a8b6b3b7f4a850.js","sourcesContent":["\nvar AccountCookieName = 'testguoxingethaccount'\n\nif (process.env.NODE_ENV === 'development') {\n  AccountCookieName = 'devguoxingethaccount'\n} else if (process.env.NODE_ENV === 'product') {\n  AccountCookieName = 'proguoxingethaccount'\n}\n\nexport function setCookie (name, value) {\n  var date = new Date()\n  date.setTime(date.getTime() + (60 * 60 * 24 * 253))\n  var expires = 'expires=' + date.toGMTString()\n  document.cookie = name + '=' + value + '; ' + expires\n}\n\nexport function delCookie (name) {\n  document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT'\n}\n\nexport function getCookie (name) {\n  var ca = document.cookie.split(';')\n  for (var i = 0; i < ca.length; i++) {\n    var c = ca[i].trim()\n    if (c.indexOf(name) === 0) {\n      var value = c.split('=')[1]\n      if (value && value.length > 0) {\n        setCookie(name, value)\n      }\n      return value\n    }\n  }\n  return null\n}\n\nexport function getAccount () {\n  return getCookie(AccountCookieName)\n}\n\nexport function setAccount (address) {\n  setCookie(AccountCookieName, address)\n}\n\nexport function logoutAccount () {\n  delCookie(AccountCookieName)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/account.js","<template>\n  <el-row>\n    <el-col :xs=\"24\" :sm=\"24\" :md=\"24\" :lg=\"5\" :xl=\"8\" class=\"right\" style=\"float: right\">\n      <div class=\"status\">\n        <el-button :type=\"nodeStatus===0 ? 'success' : 'danger'\" @click=\"refreshNodeStatus(true)\" round>\n          当前状态: {{ nodeStatusString }}\n        </el-button>\n      </div>\n      <div class=\"status\">\n        <el-button :type=\"nodeStatus===0 ? 'success' : 'danger'\" @click=\"refreshNodeStatus(true)\" round>\n          连接节点数: {{ peerCount }}\n        </el-button>\n      </div>\n    </el-col>\n\n    <el-col :xs=\"24\" :sm=\"6\" :md=\"6\" :lg=\"5\" :xl=\"4\">\n      <div class=\"left\">\n        <h1>BetOnEther</h1>\n        <h2>基于以太坊测试链</h2>\n        <account :balance=\"balance\" :account=\"account\" :nodeStatus=\"nodeStatus\"></account>\n        <div class=\"list\">\n          <boe-list-cell v-for=\"boe in boe_list\" :key=\"boe\" :boe=\"boe\"></boe-list-cell>\n        </div>\n      </div>\n    </el-col>\n\n    <el-col v-if=\"!boe.id\" :xs=\"24\" :sm=\"18\" :md=\"16\" :lg=\"14\" :xl=\"12\" class=\"board\">\n      <h2>未选择比赛</h2>\n    </el-col>\n    <el-col v-if=\"boe.id\" :xs=\"24\" :sm=\"18\" :md=\"16\" :lg=\"14\" :xl=\"12\" class=\"board\">\n      <h2>{{ boe.league }} round {{ boe.round }}</h2>\n      <h4 :style=\"boe.ended ? 'color: #E6A23C;':'color: #409EFF;'\">\n        {{ boe.ended ? '已结束' : '进行中' }}\n      </h4>\n      <el-button type=\"primary\" @click=\"refresh(true)\" round>点我刷新</el-button>\n      <el-row>\n        <el-col :span=\"11\">\n          <div class=\"team\">\n            <img :src=\"boe.home_image\"><h4>{{ boe.home }}</h4>\n          </div>\n        </el-col>\n        <el-col :span=\"2\" class=\"vs\">\n          <h3>vs</h3>\n        </el-col>\n        <el-col :span=\"11\">\n          <div class=\"team\" :xs=\"12\">\n            <img :src=\"boe.visiting_image\"><h4>{{ boe.visiting }}</h4>\n          </div>\n        </el-col>\n      </el-row>\n\n      <el-row :gutter=\"12\">\n        <el-col :span=\"6\" :offset=\"3\">\n          <h5>主胜</h5>\n          <el-card shadow=\"hover\" v-bind:class=\"{ result: boe.result===0 }\">\n            <el-button type=\"text\" v-popover:beton0>\n              {{ boe.win_odds / 1000 || 0 }}\n            </el-button>\n          </el-card>\n        </el-col>\n        <el-col :span=\"6\" :offset=\"0\">\n          <h5>平局</h5>\n          <el-card shadow=\"hover\" v-bind:class=\"{ result: boe.result===1 }\">\n            <el-button type=\"text\" v-popover:beton1>\n              {{ boe.draw_odds / 1000 || 0 }}\n            </el-button>\n          </el-card>\n        </el-col>\n        <el-col :span=\"6\" :offset=\"0\">\n          <h5>客胜</h5>\n          <el-card shadow=\"hover\" v-bind:class=\"{ result: boe.result===2 }\">\n            <el-button type=\"text\" v-popover:beton2>\n              {{ boe.lose_odds / 1000 || 0 }}\n            </el-button>\n          </el-card>\n        </el-col>\n      </el-row>\n\n      <el-popover ref=\"beton0\" placement=\"top\" width=\"260\" v-model=\"visible0\">\n        <el-row>\n          <el-col :span=\"20\">\n            <el-input type=\"number\" v-model=\"amount\" placeholder=\"输入金额(finney)\"></el-input>\n            <el-input type=\"password\" v-model=\"password\" placeholder=\"输入密码\"></el-input>\n          </el-col>\n          <el-col :span=\"3\" :offset=\"1\">\n            <el-button type=\"Blue\" icon=\"el-icon-check\" @click=\"bet(0)\" circle></el-button>\n          </el-col>\n        </el-row>\n      </el-popover>\n\n      <el-popover ref=\"beton1\" placement=\"top\" width=\"260\" v-model=\"visible1\">\n        <el-row>\n          <el-col :span=\"20\">\n            <el-input type=\"number\" v-model=\"amount\" placeholder=\"输入金额(finney)\"></el-input>\n            <el-input type=\"password\" v-model=\"password\" placeholder=\"输入密码\"></el-input>\n          </el-col>\n          <el-col :span=\"3\" :offset=\"1\">\n            <el-button type=\"Blue\" icon=\"el-icon-check\" @click=\"bet(1)\" circle></el-button>\n          </el-col>\n        </el-row>\n      </el-popover>\n\n      <el-popover ref=\"beton2\" placement=\"top\" width=\"260\" v-model=\"visible2\">\n        <el-row>\n          <el-col :span=\"20\">\n            <el-input type=\"number\" v-model=\"amount\" placeholder=\"输入金额(finney)\"></el-input>\n            <el-input type=\"password\" v-model=\"password\" placeholder=\"输入密码\"></el-input>\n          </el-col>\n          <el-col :span=\"3\" :offset=\"1\">\n            <el-button type=\"Blue\" icon=\"el-icon-check\" @click=\"bet(2)\" circle></el-button>\n          </el-col>\n        </el-row>\n      </el-popover>\n\n      <el-col :span=\"18\" :offset=\"3\">\n        <keep-alive>\n          <boe-bets style=\"margin-top: 20px;\" :boe=\"this.boe\" :betList=\"this.betList\" :account=\"this.account\" :nodeStatus=\"nodeStatus\"></boe-bets>\n        </keep-alive>\n      </el-col>\n\n      <el-col :span=\"18\" :offset=\"3\">\n        <p>注：只有在交易被区块写入之后，下注 / 提现 / 余额更新 等接口才算正式完成</p>\n        <p>因为作者很懒 ...请好好利用\"刷新\"按钮。<strong>暂时的</strong></p>\n      </el-col>\n    </el-col>\n\n  </el-row>\n</template>\n\n<script>\nimport { getBetOnEtherList, betOnEtherBet, getBetOnEtherBetList, getBalance, getNodeStatus } from '../requests'\nimport { getAccount } from '../account'\n\nexport default {\n  name: 'blog_list',\n  components: {\n    'boe-list-cell': () => import('./boe_list_cell.vue'),\n    'account': () => import('./account'),\n    'boe-bets': () => import('./boe_bets')\n  },\n  beforeRouteUpdate (to, from, next) {\n    if (to.params.id !== this.boe.id) {\n      for (var i in this.boe_list) {\n        if (this.boe_list[i].id === to.params.id) {\n          this.boe = this.boe_list[i]\n          this.getBetList()\n        }\n      }\n    }\n    next()\n  },\n  data () {\n    return {\n      boes_count: 0,\n      boe_list: [],\n      boe: {},\n      betList: [],\n      visible0: false,\n      visible1: false,\n      visible2: false,\n      balance: 0,\n      account: getAccount(),\n      nodeStatus: -1,\n      nodeStatusString: 'unknown',\n      peerCount: 0\n    }\n  },\n  created () {\n    this.refresh()\n  },\n  methods: {\n    bet (beton) {\n      if (this.nodeStatus === 0) {\n        if (this.betCheck()) {\n          return\n        }\n        betOnEtherBet(this.boe.id, beton, this.amount, getAccount(), this.password).then(res => {\n          if (res.status === 200) {\n            this.betResponse(res.data.code)\n          } else {\n            this.$message({ message: '下注失败:(', type: 'warning' })\n          }\n          if (beton === 0) { this.visible0 = false }\n          if (beton === 1) { this.visible1 = false }\n          if (beton === 2) { this.visible2 = false }\n        })\n      } else {\n        this.$message({ message: '节点暂不可用，请等待 / 点击刷新', type: 'warning' })\n      }\n    },\n\n    betCheck () {\n      if (this.boe.ended) {\n        this.$message({ message: '该轮游戏已结束', type: 'warning' })\n        return 1\n      }\n      var address = getAccount()\n      if (!this.boe.id) {\n        this.$message({ message: 'id未找到', type: 'warning' })\n        return 1\n      }\n      if (!this.amount) {\n        this.$message({ message: '金额未填写', type: 'warning' })\n        return 1\n      }\n      if (!address) {\n        this.$message({ message: '账号未找到', type: 'warning' })\n        return 1\n      }\n      if (!this.password) {\n        this.$message({ message: '密码未填写', type: 'warning' })\n        return 1\n      }\n      return 0\n    },\n\n    betResponse (code) {\n      if (code === 0) {\n        this.$message({ message: '下注成功！请等待数据写入区块...', type: 'success' })\n      } else if (code === 30001) {\n        this.$message({ message: '操作过于频繁，15秒后重试', type: 'warning' })\n      } else if (code === 1) {\n        this.$message({ message: '密码错误', type: 'warning' })\n      } else {\n        this.$message({ message: '下注过大，庄家保证金不足！', type: 'warning' })\n      }\n    },\n\n    getBetList () {\n      var account = getAccount()\n      if (account) {\n        getBetOnEtherBetList(this.boe.id, getAccount()).then(res => {\n          if (res.status === 200) {\n            var betList = []\n            for (var i in res.data) {\n              var data = res.data[i]\n              betList.push({\n                beton: data[0],\n                amount: Math.round(data[1] / 1000000000000000),\n                odds: data[2] / 1000,\n                profit: Math.round(data[3] / 1000000000000000),\n                withdrawed: data[4]\n              })\n            }\n            this.betList = betList\n          }\n        })\n      }\n    },\n\n    refreshNodeStatus (isRefresh = false) {\n      getNodeStatus().then(res => {\n        if (res.status === 200) {\n          var data = res.data.data\n          this.nodeStatus = data.status\n          this.nodeStatusString = data.message\n          this.peerCount = data.peer_count\n          if (isRefresh) {\n            this.$message({ message: '状态刷新成功', type: 'success' })\n          }\n        }\n      })\n    },\n\n    refresh (isRefresh = false) {\n      var bid = this.$route.params.id\n      this.refreshNodeStatus()\n\n      getBetOnEtherList().then(res => {\n        for (var i in res.data) {\n          if (res.data[i].id === Number(bid)) { this.boe = res.data[i] }\n        }\n        if (this.boe === null) {\n          this.boe = res.data[0]\n        }\n        this.boes_count = res.data.length\n        this.boe_list = res.data\n        this.getBetList()\n\n        if (isRefresh) {\n          this.$message({ message: '刷新成功', type: 'success' })\n        }\n      })\n\n      this.account = getAccount()\n      if (this.account) {\n        getBalance(this.account).then(res => {\n          if (res.status === 200) {\n            this.balance = Math.round(res.data / 1000000000000000)\n          }\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.left {\n  text-align: center;\n}\n.list {\n  margin: 10px;\n}\n.team {\n  margin: 0 auto;\n  text-align: center;\n}\n.team img {\n  height: 200px;\n}\n.vs {\n  margin-top: 200px;\n  text-align: center;\n}\n.board {\n  text-align: center;\n}\n/*.result {\n  background: #67C23A;\n}*/\n.result span {\n  color: #67C23A;\n}\n.status {\n  text-align: center;\n  padding: 5px 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/betonether.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',[_c('el-col',{staticClass:\"right\",staticStyle:{\"float\":\"right\"},attrs:{\"xs\":24,\"sm\":24,\"md\":24,\"lg\":5,\"xl\":8}},[_c('div',{staticClass:\"status\"},[_c('el-button',{attrs:{\"type\":_vm.nodeStatus===0 ? 'success' : 'danger',\"round\":\"\"},on:{\"click\":function($event){_vm.refreshNodeStatus(true)}}},[_vm._v(\"\\n        当前状态: \"+_vm._s(_vm.nodeStatusString)+\"\\n      \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"status\"},[_c('el-button',{attrs:{\"type\":_vm.nodeStatus===0 ? 'success' : 'danger',\"round\":\"\"},on:{\"click\":function($event){_vm.refreshNodeStatus(true)}}},[_vm._v(\"\\n        连接节点数: \"+_vm._s(_vm.peerCount)+\"\\n      \")])],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":24,\"sm\":6,\"md\":6,\"lg\":5,\"xl\":4}},[_c('div',{staticClass:\"left\"},[_c('h1',[_vm._v(\"BetOnEther\")]),_vm._v(\" \"),_c('h2',[_vm._v(\"基于以太坊测试链\")]),_vm._v(\" \"),_c('account',{attrs:{\"balance\":_vm.balance,\"account\":_vm.account,\"nodeStatus\":_vm.nodeStatus}}),_vm._v(\" \"),_c('div',{staticClass:\"list\"},_vm._l((_vm.boe_list),function(boe){return _c('boe-list-cell',{key:boe,attrs:{\"boe\":boe}})}))],1)]),_vm._v(\" \"),(!_vm.boe.id)?_c('el-col',{staticClass:\"board\",attrs:{\"xs\":24,\"sm\":18,\"md\":16,\"lg\":14,\"xl\":12}},[_c('h2',[_vm._v(\"未选择比赛\")])]):_vm._e(),_vm._v(\" \"),(_vm.boe.id)?_c('el-col',{staticClass:\"board\",attrs:{\"xs\":24,\"sm\":18,\"md\":16,\"lg\":14,\"xl\":12}},[_c('h2',[_vm._v(_vm._s(_vm.boe.league)+\" round \"+_vm._s(_vm.boe.round))]),_vm._v(\" \"),_c('h4',{style:(_vm.boe.ended ? 'color: #E6A23C;':'color: #409EFF;')},[_vm._v(\"\\n      \"+_vm._s(_vm.boe.ended ? '已结束' : '进行中')+\"\\n    \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.refresh(true)}}},[_vm._v(\"点我刷新\")]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":11}},[_c('div',{staticClass:\"team\"},[_c('img',{attrs:{\"src\":_vm.boe.home_image}}),_c('h4',[_vm._v(_vm._s(_vm.boe.home))])])]),_vm._v(\" \"),_c('el-col',{staticClass:\"vs\",attrs:{\"span\":2}},[_c('h3',[_vm._v(\"vs\")])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('div',{staticClass:\"team\",attrs:{\"xs\":12}},[_c('img',{attrs:{\"src\":_vm.boe.visiting_image}}),_c('h4',[_vm._v(_vm._s(_vm.boe.visiting))])])])],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":12}},[_c('el-col',{attrs:{\"span\":6,\"offset\":3}},[_c('h5',[_vm._v(\"主胜\")]),_vm._v(\" \"),_c('el-card',{class:{ result: _vm.boe.result===0 },attrs:{\"shadow\":\"hover\"}},[_c('el-button',{directives:[{name:\"popover\",rawName:\"v-popover:beton0\",arg:\"beton0\"}],attrs:{\"type\":\"text\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.boe.win_odds / 1000 || 0)+\"\\n          \")])],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6,\"offset\":0}},[_c('h5',[_vm._v(\"平局\")]),_vm._v(\" \"),_c('el-card',{class:{ result: _vm.boe.result===1 },attrs:{\"shadow\":\"hover\"}},[_c('el-button',{directives:[{name:\"popover\",rawName:\"v-popover:beton1\",arg:\"beton1\"}],attrs:{\"type\":\"text\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.boe.draw_odds / 1000 || 0)+\"\\n          \")])],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6,\"offset\":0}},[_c('h5',[_vm._v(\"客胜\")]),_vm._v(\" \"),_c('el-card',{class:{ result: _vm.boe.result===2 },attrs:{\"shadow\":\"hover\"}},[_c('el-button',{directives:[{name:\"popover\",rawName:\"v-popover:beton2\",arg:\"beton2\"}],attrs:{\"type\":\"text\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.boe.lose_odds / 1000 || 0)+\"\\n          \")])],1)],1)],1),_vm._v(\" \"),_c('el-popover',{ref:\"beton0\",attrs:{\"placement\":\"top\",\"width\":\"260\"},model:{value:(_vm.visible0),callback:function ($$v) {_vm.visible0=$$v},expression:\"visible0\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"输入金额(finney)\"},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}}),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"输入密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-button',{attrs:{\"type\":\"Blue\",\"icon\":\"el-icon-check\",\"circle\":\"\"},on:{\"click\":function($event){_vm.bet(0)}}})],1)],1)],1),_vm._v(\" \"),_c('el-popover',{ref:\"beton1\",attrs:{\"placement\":\"top\",\"width\":\"260\"},model:{value:(_vm.visible1),callback:function ($$v) {_vm.visible1=$$v},expression:\"visible1\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"输入金额(finney)\"},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}}),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"输入密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-button',{attrs:{\"type\":\"Blue\",\"icon\":\"el-icon-check\",\"circle\":\"\"},on:{\"click\":function($event){_vm.bet(1)}}})],1)],1)],1),_vm._v(\" \"),_c('el-popover',{ref:\"beton2\",attrs:{\"placement\":\"top\",\"width\":\"260\"},model:{value:(_vm.visible2),callback:function ($$v) {_vm.visible2=$$v},expression:\"visible2\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"输入金额(finney)\"},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}}),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"输入密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3,\"offset\":1}},[_c('el-button',{attrs:{\"type\":\"Blue\",\"icon\":\"el-icon-check\",\"circle\":\"\"},on:{\"click\":function($event){_vm.bet(2)}}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18,\"offset\":3}},[_c('keep-alive',[_c('boe-bets',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"boe\":this.boe,\"betList\":this.betList,\"account\":this.account,\"nodeStatus\":_vm.nodeStatus}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18,\"offset\":3}},[_c('p',[_vm._v(\"注：只有在交易被区块写入之后，下注 / 提现 / 余额更新 等接口才算正式完成\")]),_vm._v(\" \"),_c('p',[_vm._v(\"因为作者很懒 ...请好好利用\\\"刷新\\\"按钮。\"),_c('strong',[_vm._v(\"暂时的\")])])])],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9691533a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/betonether.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9691533a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./betonether.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./betonether.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./betonether.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9691533a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./betonether.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/betonether.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}